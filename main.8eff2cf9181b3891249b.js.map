{"version":3,"sources":["webpack:///./templates/cardItem.hbs","webpack:///./js/apiService.js","webpack:///./js/image-search.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","page","query","key","fetchImg","endUrl","content","fetch","response","json","item","increment","hits","console","log","this","string","home","refs","findRes","document","querySelector","gallery","addPic","image","makeList","images","markup","cardItem","insertAdjacentHTML","addEventListener","evt","basicLightbox","target","dataset","url","show","e","preventDefault","input","currentTarget","elements","innerHTML","apiService","searchValue","value","then","catch","error","hidden","window","scrollTo","top","scrollY","behavior"],"mappings":"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","file":"main.8eff2cf9181b3891249b.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li>\\n    <div class=\\\"photo-card\\\">\\n        <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":18},\"end\":{\"line\":4,\"column\":34}}}) : helper)))\n    + \"\\\" id=\\\"galleryItem\\\" data-url=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"largeImageURL\") || (depth0 != null ? lookupProperty(depth0,\"largeImageURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"largeImageURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":63},\"end\":{\"line\":4,\"column\":80}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":87},\"end\":{\"line\":4,\"column\":95}}}) : helper)))\n    + \"\\\" />\\n\\n        <div class=\\\"stats\\\">\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">thumb_up</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":16},\"end\":{\"line\":9,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">visibility</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":13,\"column\":16},\"end\":{\"line\":13,\"column\":25}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">comment</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":17,\"column\":16},\"end\":{\"line\":17,\"column\":28}}}) : helper)))\n    + \"\\n            </p>\\n            <p class=\\\"stats-item\\\">\\n                <i class=\\\"material-icons\\\">cloud_download</i>\\n                \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":21,\"column\":16},\"end\":{\"line\":21,\"column\":29}}}) : helper)))\n    + \"\\n            </p>\\n        </div>\\n    </div>\\n</li>\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":26,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","let baseUrl = 'https://pixabay.com/api/';\nexport default {\n  page: 1,\n  query: '',\n  key: '20202881-652c2a411aa551237b4134ad2',\n  async fetchImg() {\n    let endUrl = `?image_type=photo&orientation=horizontal&q=${this.content}&page=${this.page}&per_page=12&key=${this.key}`;\n    try {\n      let response = await fetch(baseUrl + endUrl);\n      let item = await response.json();\n      // console.log(item);\n      this.increment();\n      return item.hits;\n    } catch (error) {\n      return console.log(error);\n    }\n  },\n\n  get searchValue() {\n    return this.content;\n  },\n  set searchValue(string) {\n    this.content = string;\n  },\n  increment() {\n    this.page += 1;\n  },\n  home() {\n    this.page = 1;\n  },\n};\n","import apiService from './apiService';\nimport * as basicLightbox from 'basiclightbox';\nimport '../../node_modules/basiclightbox/dist/basicLightbox.min.css';\nimport cardItem from '../templates/cardItem.hbs';\n\nlet refs = {\n  findRes: document.querySelector('#search-form'),\n  gallery: document.querySelector('#gallery'),\n  addPic: document.querySelector('button[data-action=\"addImg\"]'),\n  image: document.querySelector('#gallery_image'),\n};\n\nrefs.gallery.addEventListener('click', handleOriginalImage);\n\nfunction handleOriginalImage(evt) {\n  let modal = basicLightbox.create(`\n     <img src=\"${evt.target.dataset.url}\" width=\"100%\">\n `);\n\n  modal.show();\n  console.log(evt.target.dataset.url);\n}\n\nfunction fetchImg() {\n  apiService\n    .fetchImg()\n    .then(images => {\n      makeList(images);\n    })\n    .catch(error => console.log(error));\n}\nrefs.findRes.addEventListener('submit', makeSearch);\nfunction makeSearch(e) {\n  e.preventDefault();\n\n  let form = e.currentTarget;\n  // console.log(form);\n  let input = form.elements.query;\n\n  clear();\n\n  apiService.home();\n  apiService.searchValue = input.value;\n  console.log(apiService);\n  fetchImg();\n\n  input.value = '';\n  refs.addPic.hidden = false;\n}\nfunction makeList(images) {\n  let markup = cardItem(images);\n\n  refs.gallery.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clear() {\n  refs.gallery.innerHTML = '';\n}\n\nfunction moreImg() {\n  if (apiService.page > 1) {\n    apiService.fetchImg().then(images => {\n      makeList(images);\n      window.scrollTo({\n        top: window.scrollY + 500,\n        behavior: 'smooth',\n      });\n    });\n  }\n}\nrefs.addPic.addEventListener('click', moreImg);\n"],"sourceRoot":""}